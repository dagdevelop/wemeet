import React, { useState } from 'react';
import axiosRetry from 'axios-retry';
import { useEffect } from 'react';
import axios from 'axios';

axiosRetry(axios, {
    retries: 3,
    retryDelay: axiosRetry.exponentialDelay
});

//const liste = [{"id":1,"label":"sortie entre amis","description":"vient on va samuser comme des fous à la foire de liège !","city_name":"mons","is_private":false,"nbParticipants":7,"participants":[{"role":"organizer","id":1,"first_name":"Vially","last_name":"Armel","email":"vially@mail.com","password":"$2a$10$0zeMnTcmdyiMeJkfPi.CJuCdmVAdMKy/IwE24MrdLmbUpl5CwYTx6","address":"Rue quelque part","postal_code":5000,"is_admin":true},{"role":"participant","id":3,"first_name":"Albus","last_name":"Dumbledore","email":"ad@mail.com","password":"$2a$10$7YKDcUsfRgULkGeepDY8feNSaqNcy6E7jWpBoYnB6qsD5CaBebHBG","address":"Poudlard","postal_code":123455,"is_admin":false},{"role":"participant","id":4,"first_name":"Bruce","last_name":"Wayne","email":"bw@mail.com","password":"$2a$10$ykV3siDr3gZHNzfZ7oO/Ge9Ae9AwQxLwC46bLMOXNFnVuH5JkEGVm","address":"Gotham City","postal_code":987411,"is_admin":false},{"role":"participant","id":5,"first_name":"Minerva","last_name":"McGonagall","email":"minerva_mg@mail.com","password":"$2a$10$.NOOhIQxPf/5VMTVouCe3u/tKYEa2rSIO4z55gkdo1Uu5Skp3pdpu","address":"Poudlard","postal_code":123455,"is_admin":false},{"role":"participant","id":6,"first_name":"Sakura","last_name":"Haruno","email":"saha@mail.com","password":"$2a$10$D3M2nstpaQ9qGVF2m/pEge6BLGDHZq8WXGIgQnNk81PJOU6rgbRdC","address":"Konoha","postal_code":5768741,"is_admin":false},{"role":"participant","id":7,"first_name":"Maggie","last_name":"Simpson","email":"smag@mail.com","password":"$2a$10$4tbWHWVL79xot7Ao4.06PeyiWX4gMXw8XD.dP7EBClPjrA1p/Zslm","address":"Evergreen Terrace, Springfield","postal_code":55489,"is_admin":false},{"role":"participant","id":8,"first_name":"Karui","last_name":"Akimichi","email":"karui_Aki@mail.com","password":"$2a$10$yBeInAyoBoeu/5CaCwdc1OoCOAQf7488rW1MrrNn7YgSjV11mAXBa","address":"Kumo","postal_code":757798,"is_admin":false}]},{"id":2,"label":"anniv de lucie","description":"cest un anniversaire surprise.. ramenez des cadeaux !","city_name":"charleroi","is_private":true,"nbParticipants":2,"participants":[{"role":"organizer","id":2,"first_name":"Pierre-Olivier","last_name":"Manil","email":"po@mail.com","password":"$2a$10$0zeMnTcmdyiMeJkfPi.CJuCdmVAdMKy/IwE24MrdLmbUpl5CwYTx6","address":"Rue autre part","postal_code":5000,"is_admin":true},{"role":"participant","id":3,"first_name":"Albus","last_name":"Dumbledore","email":"ad@mail.com","password":"$2a$10$7YKDcUsfRgULkGeepDY8feNSaqNcy6E7jWpBoYnB6qsD5CaBebHBG","address":"Poudlard","postal_code":123455,"is_admin":false}]},{"id":3,"label":"concert de tayc","description":"on que des filles, il nous faut de la compagnie !","city_name":"anvers","is_private":false,"nbParticipants":2,"participants":[{"role":"organizer","id":2,"first_name":"Pierre-Olivier","last_name":"Manil","email":"po@mail.com","password":"$2a$10$0zeMnTcmdyiMeJkfPi.CJuCdmVAdMKy/IwE24MrdLmbUpl5CwYTx6","address":"Rue autre part","postal_code":5000,"is_admin":true},{"role":"participant","id":4,"first_name":"Bruce","last_name":"Wayne","email":"bw@mail.com","password":"$2a$10$ykV3siDr3gZHNzfZ7oO/Ge9Ae9AwQxLwC46bLMOXNFnVuH5JkEGVm","address":"Gotham City","postal_code":987411,"is_admin":false}]},{"id":4,"label":"manif contre le corona","description":"on ne doit pas obliger les enfants à se faire vaciner !","city_name":"louvain","is_private":false,"nbParticipants":2,"participants":[{"role":"organizer","id":1,"first_name":"Vially","last_name":"Armel","email":"vially@mail.com","password":"$2a$10$0zeMnTcmdyiMeJkfPi.CJuCdmVAdMKy/IwE24MrdLmbUpl5CwYTx6","address":"Rue quelque part","postal_code":5000,"is_admin":true},{"role":"participant","id":5,"first_name":"Minerva","last_name":"McGonagall","email":"minerva_mg@mail.com","password":"$2a$10$.NOOhIQxPf/5VMTVouCe3u/tKYEa2rSIO4z55gkdo1Uu5Skp3pdpu","address":"Poudlard","postal_code":123455,"is_admin":false}]},{"id":5,"label":"petit bitu","description":"go faire la fête jusque tard le soir !","city_name":"namur","is_private":false,"nbParticipants":2,"participants":[{"role":"organizer","id":3,"first_name":"Albus","last_name":"Dumbledore","email":"ad@mail.com","password":"$2a$10$7YKDcUsfRgULkGeepDY8feNSaqNcy6E7jWpBoYnB6qsD5CaBebHBG","address":"Poudlard","postal_code":123455,"is_admin":false},{"role":"participant","id":6,"first_name":"Sakura","last_name":"Haruno","email":"saha@mail.com","password":"$2a$10$D3M2nstpaQ9qGVF2m/pEge6BLGDHZq8WXGIgQnNk81PJOU6rgbRdC","address":"Konoha","postal_code":5768741,"is_admin":false}]},{"id":6,"label":"soirée de gala","description":"un pote qui connait dadju nous invite.","city_name":"bruxelles","is_private":true,"nbParticipants":2,"participants":[{"role":"organizer","id":4,"first_name":"Bruce","last_name":"Wayne","email":"bw@mail.com","password":"$2a$10$ykV3siDr3gZHNzfZ7oO/Ge9Ae9AwQxLwC46bLMOXNFnVuH5JkEGVm","address":"Gotham City","postal_code":987411,"is_admin":false},{"role":"participant","id":7,"first_name":"Maggie","last_name":"Simpson","email":"smag@mail.com","password":"$2a$10$4tbWHWVL79xot7Ao4.06PeyiWX4gMXw8XD.dP7EBClPjrA1p/Zslm","address":"Evergreen Terrace, Springfield","postal_code":55489,"is_admin":false}]},{"id":7,"label":"foire de liège","description":"vient on va samuser comme des fous à la foire de liège !","city_name":"liège","is_private":false,"nbParticipants":2,"participants":[{"role":"organizer","id":5,"first_name":"Minerva","last_name":"McGonagall","email":"minerva_mg@mail.com","password":"$2a$10$.NOOhIQxPf/5VMTVouCe3u/tKYEa2rSIO4z55gkdo1Uu5Skp3pdpu","address":"Poudlard","postal_code":123455,"is_admin":false},{"role":"participant","id":8,"first_name":"Karui","last_name":"Akimichi","email":"karui_Aki@mail.com","password":"$2a$10$yBeInAyoBoeu/5CaCwdc1OoCOAQf7488rW1MrrNn7YgSjV11mAXBa","address":"Kumo","postal_code":757798,"is_admin":false}]},{"id":8,"label":"on sort ?","description":"on ira bire des bière. je vous invite !","city_name":"bruxelles","is_private":true,"nbParticipants":1,"participants":[{"role":"organizer","id":6,"first_name":"Sakura","last_name":"Haruno","email":"saha@mail.com","password":"$2a$10$D3M2nstpaQ9qGVF2m/pEge6BLGDHZq8WXGIgQnNk81PJOU6rgbRdC","address":"Konoha","postal_code":5768741,"is_admin":false}]},{"id":9,"label":"fete de wallonie","description":"vient on va samuser comme des fous à la fete de wallonie !","city_name":"namur","is_private":false,"nbParticipants":1,"participants":[{"role":"organizer","id":7,"first_name":"Maggie","last_name":"Simpson","email":"smag@mail.com","password":"$2a$10$4tbWHWVL79xot7Ao4.06PeyiWX4gMXw8XD.dP7EBClPjrA1p/Zslm","address":"Evergreen Terrace, Springfield","postal_code":55489,"is_admin":false}]},{"id":10,"label":"soirée ciné","description":"le nouveau cinéma qui a ouvert!","city_name":"liège","is_private":false,"nbParticipants":4,"participants":[{"role":"organizer","id":8,"first_name":"Karui","last_name":"Akimichi","email":"karui_Aki@mail.com","password":"$2a$10$yBeInAyoBoeu/5CaCwdc1OoCOAQf7488rW1MrrNn7YgSjV11mAXBa","address":"Kumo","postal_code":757798,"is_admin":false},{"role":"participant","id":2,"first_name":"Pierre-Olivier","last_name":"Manil","email":"po@mail.com","password":"$2a$10$0zeMnTcmdyiMeJkfPi.CJuCdmVAdMKy/IwE24MrdLmbUpl5CwYTx6","address":"Rue autre part","postal_code":5000,"is_admin":true},{"role":"participant","id":3,"first_name":"Albus","last_name":"Dumbledore","email":"ad@mail.com","password":"$2a$10$7YKDcUsfRgULkGeepDY8feNSaqNcy6E7jWpBoYnB6qsD5CaBebHBG","address":"Poudlard","postal_code":123455,"is_admin":false},{"role":"participant","id":4,"first_name":"Bruce","last_name":"Wayne","email":"bw@mail.com","password":"$2a$10$ykV3siDr3gZHNzfZ7oO/Ge9Ae9AwQxLwC46bLMOXNFnVuH5JkEGVm","address":"Gotham City","postal_code":987411,"is_admin":false}]}];

// terminal : ipconfig -> regarder ipv4
const PREFIX_URL = " http://10.101.204.12:3001";

const useAllEvent = () => {
    const [events, setEvents] = useState([]); 

    useEffect(() => {
        getAllEvent().then(data => {
            console.log(data.data);
            setEvents(data.data);
        }).catch(e => alert(e))
        // setEvents(liste.filter(e => e.is_private === false));
        
    }, []);

    const getAllEvent = async () => {
        return await axios.get(`${PREFIX_URL}/event/`);
    }
    return (
        [events]
    );
};

export { useAllEvent };